"use strict";(self.webpackChunkreact_burger=self.webpackChunkreact_burger||[]).push([[910],{6910:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r=n(8182),s=n(2791),c=n(4880),a=n(1523),l=n(6897),i=n(6284),o=n(6035),u=n(5472),d=n(2848),m="styles_ordersList__LpBf-",x=n(184),h=function(){var e=i.gh.useIngredients().entities,t=o.RM.useOrders({ingredientsEntities:e}),n=t.orders,r=t.isWsOpened,a=t.isWsClosed,h=t.isWsConnecting,f=t.isEmpty,_=(0,u.TL)();(0,s.useEffect)((function(){return _(i.gh.actions.getIngredientsAsync()),_(l.l.actions.getUser()).unwrap().then((function(){a&&_(o.RM.actions.connect({route:"/orders",accessToken:(0,u.hP)()}))})),function(){r&&_(o.RM.actions.close())}}),[_,r,a]);var p=(0,c.$B)().url;return h?(0,x.jsx)(d.Nc,{}):f?null:(0,x.jsx)("ul",{className:"".concat(m," scroll"),children:n.map((function(e){return(0,x.jsx)("li",{className:"mb-4 mr-2",children:(0,x.jsx)(d.tL,{path:"".concat(p,"/").concat(e._id),children:(0,x.jsx)(o.KM,{order:e})})},e._id)}))})},f=n(5987),_=n(4942),p=n(1413),j=n(6814),y=n(5290),v=n(2720),b="user-form_buttons__gSasE",g="user-form_form__1Leyd",N=["ref","onBlur"],k=["ref"],Z=["ref"],C=function(){var e=(0,u.TL)(),t=l.l.useAuth().user,n=(0,y.cI)({defaultValues:{name:null===t||void 0===t?void 0:t.name,email:null===t||void 0===t?void 0:t.email,password:""}}),r=n.handleSubmit,s=n.control,c=n.formState,a=c.isDirty,i=c.isValid,o=c.dirtyFields,d=n.reset,m=n.getValues;return(0,x.jsxs)("form",{className:"mt-20 ".concat(g),onSubmit:r((function(){var t=Object.keys(o).reduce((function(e,t){return(0,p.Z)((0,p.Z)({},e),{},(0,_.Z)({},t,m(t)))}),{});e(l.l.actions.patchUser(t)).unwrap().then((function(){d({},{keepValues:!0})}))})),children:[(0,x.jsx)(y.Qr,{name:"name",control:s,rules:v.kG.NAME,render:function(e){var t=e.field,n=(t.ref,t.onBlur,(0,f.Z)(t,N));return(0,x.jsx)(j.II,(0,p.Z)((0,p.Z)({},n),{},{placeholder:"\u0418\u043c\u044f"}))}}),(0,x.jsx)(y.Qr,{name:"email",control:s,rules:v.kG.EMAIL,render:function(e){var t=e.field,n=(t.ref,(0,f.Z)(t,k));return(0,x.jsx)(j.U5,(0,p.Z)((0,p.Z)({},n),{},{extraClass:"mt-6 mb-6",placeholder:"E-mail"}))}}),(0,x.jsx)(y.Qr,{name:"password",control:s,rules:v.kG.PASSWORD,render:function(e){var t=e.field,n=(t.ref,(0,f.Z)(t,Z));return(0,x.jsx)(j.WU,(0,p.Z)((0,p.Z)({},n),{},{extraClass:"mt-6",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:"EditIcon"}))}}),a&&i&&(0,x.jsxs)("div",{className:"mt-6 ".concat(b),children:[(0,x.jsx)(j.zx,{htmlType:"reset",type:"secondary",onClick:function(){return d({})},extraClass:"ml-4",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,x.jsx)(j.zx,{htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},E="styles_layout__7WFNo",W="styles_sidebar__HxnH7",L="styles_content__FFDE5",w="styles_links__WlCwG",A="styles_link__1YouO",I=[{path:"",title:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",exact:!0,sidebar:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",children:(0,x.jsx)(C,{})},{path:"/orders",title:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",exact:!1,sidebar:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u043a\u0430\u0437\u043e\u0432",children:(0,x.jsx)(h,{})},{path:"/logout",title:"\u0412\u044b\u0445\u043e\u0434",children:(0,x.jsx)(c.l_,{to:"/logout"})}],M=function(){var e=(0,c.$B)().url;return(0,x.jsxs)("main",{className:E,children:[(0,x.jsxs)("div",{className:"mt-30 ".concat(W),children:[(0,x.jsx)("ul",{className:w,children:I.map((function(t,n){return(0,x.jsx)("li",{className:"pt-4 pb-4",children:(0,x.jsx)(a.OL,{exact:t.exact,to:"".concat(e).concat(t.path),className:function(e){return(0,r.clsx)(A,"text text_type_main-medium",e?"text_color_primary":"text_color_inactive")},children:t.title})},n)}))}),(0,x.jsx)(c.rs,{children:I.map((function(t,n){return t.sidebar?(0,x.jsx)(c.AW,{exact:t.exact,path:"".concat(e).concat(t.path),children:(0,x.jsx)("p",{className:"mt-20 text text_type_main-default text_color_inactive",children:t.sidebar})},n):null}))})]}),(0,x.jsx)("div",{className:"ml-15 mt-10 ".concat(L),children:(0,x.jsx)(c.rs,{children:I.map((function(t,n){return t.children?(0,x.jsx)(c.AW,{exact:t.exact,path:"".concat(e).concat(t.path),children:t.children},n):null}))})})]})}}}]);
//# sourceMappingURL=910.c1f0dcaa.chunk.js.map